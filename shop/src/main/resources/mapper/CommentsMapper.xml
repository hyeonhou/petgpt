<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mc.app.repository.CommentsRepository">

    <select id="findAllByPboard" parameterType="int" resultType="com.mc.app.dto.Comments">
        SELECT * FROM comments WHERE pboard_key = #{pboardKey}
    </select>

    <select id="findById" parameterType="int" resultType="com.mc.app.dto.Comments">
        SELECT * FROM comments WHERE comments_key = #{commentsKey}
    </select>

    <insert id="insert" parameterType="com.mc.app.dto.Comments">
        INSERT INTO comments (
            pboard_key, cust_key, comments_content, comments_rdate, comments_update
        ) VALUES (
                     #{pboardKey}, #{custKey}, #{commentsContent}, #{commentsRdate}, #{commentsUpdate}
                 )
    </insert>

    <update id="update" parameterType="com.mc.app.dto.Comments">
        UPDATE comments SET
                            comments_content = #{commentsContent},
                            comments_update = #{commentsUpdate}
        WHERE comments_key = #{commentsKey}
    </update>

    <delete id="delete" parameterType="int">
        DELETE FROM comments WHERE comments_key = #{commentsKey}
    </delete>

</mapper>
